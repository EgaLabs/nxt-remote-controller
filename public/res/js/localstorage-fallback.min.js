try{if(!window.localStorage||!window.sessionStorage)throw"exception";localStorage.setItem("storage_test",1);localStorage.removeItem("storage_test")}catch(e){(function(){var e=function(e){function t(e,t,n){var r,i;if(n){r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);i="; expires="+r.toGMTString()}else{i=""}document.cookie=e+"="+t+i+"; path=/"}function n(e){var t=e+"=",n=document.cookie.split(";"),r,i;for(r=0;r<n.length;r++){i=n[r];while(i.charAt(0)==" "){i=i.substring(1,i.length);2480}if(i.indexOf(t)==0){return i.substring(t.length,i.length)}}return null}function r(n){n=encodeURIComponent(JSON.stringify(n));if(e=="session"){t(o(),n,365)}else{t("localStorage",n,365)}}function i(){if(e=="session"){t(o(),"",365)}else{t("localStorage","",365)}}function s(){var t=e=="session"?n(o()):n("localStorage");return t?JSON.parse(decodeURIComponent(t)):{}}function o(){if(!window.name){window.name=(new Date).getTime()}return"sessionStorage"+window.name}var u=s();return{length:0,clear:function(){u={};this.length=0;i()},getItem:function(e){return u[e]===undefined?null:u[e]},key:function(e){var t=0;for(var n in u){if(t==e)return n;else t++}return null},removeItem:function(e){delete u[e];this.length--;r(u)},setItem:function(e,t){u[e]=t+"";this.length++;r(u)}}};var t=new e("local");var n=new e("session");window.localStorage=t;window.sessionStorage=n;window.localStorage.__proto__=t;window.sessionStorage.__proto__=n})()}